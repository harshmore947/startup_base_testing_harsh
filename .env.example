# Supabase Configuration
# Get these from your Supabase project settings: https://app.supabase.com
VITE_SUPABASE_URL=your_supabase_url_here
VITE_SUPABASE_PUBLISHABLE_KEY=your_supabase_anon_key_here
VITE_SUPABASE_PROJECT_ID=your_project_id_here

# CCAvenue Payment Gateway Configuration
# Get these from your CCAvenue merchant account
# IMPORTANT: These should also be added to Supabase Edge Functions environment variables
# via Supabase Dashboard -> Edge Functions -> Secrets

# Merchant ID from CCAvenue
CCAVENUE_MERCHANT_ID=your_merchant_id_here

# Access Code from CCAvenue
CCAVENUE_ACCESS_CODE=your_access_code_here

# Working Key from CCAvenue (KEEP SECRET - only for server-side)
CCAVENUE_WORKING_KEY=your_working_key_here

# CCAvenue Gateway URL
# Test: https://test.ccavenue.com/transaction/transaction.do?command=initiateTransaction
# Production: https://secure.ccavenue.com/transaction/transaction.do?command=initiateTransaction
CCAVENUE_URL=https://test.ccavenue.com/transaction/transaction.do?command=initiateTransaction

# Callback URLs (CRITICAL - must be configured correctly!)
#
# CCAVENUE_REDIRECT_URL: Where CCAvenue sends the encrypted payment response
# This MUST be your Supabase Edge Function URL, NOT your frontend URL!
# Format: https://YOUR_PROJECT_ID.supabase.co/functions/v1/ccavenue-response
CCAVENUE_REDIRECT_URL=https://sevjezttvhkgxybgedto.supabase.co/functions/v1/ccavenue-response

# CCAVENUE_CANCEL_URL: Where user is sent if they click "Cancel" on CCAvenue payment page
# This should be your frontend URL
CCAVENUE_CANCEL_URL=https://www.startupbase.co.in/payment/failure

# Frontend URL (for redirects from Edge Function back to your React app)
# IMPORTANT: Use the exact domain your site runs on (with or without www)
# Local development:
# FRONTEND_URL=http://localhost:5173
# Production (with www):
FRONTEND_URL=https://www.startupbase.co.in

# Note: Never commit your actual .env file to git!
# Copy this file to .env and fill in your actual values

# DEPLOYMENT INSTRUCTIONS:
#
# FOR LOCAL DEVELOPMENT:
# 1. Copy this file to .env and fill in your CCAvenue credentials
# 2. Set FRONTEND_URL=http://localhost:5173
# 3. Set CCAVENUE_REDIRECT_URL to your local Supabase: http://localhost:54321/functions/v1/ccavenue-response
#
# FOR PRODUCTION (CRITICAL - This fixes the 405 error!):
# 1. Go to Supabase Dashboard -> Project Settings -> Edge Functions -> Manage secrets
# 2. Add ALL of these environment variables:
#    - CCAVENUE_MERCHANT_ID (your merchant ID from CCAvenue)
#    - CCAVENUE_ACCESS_CODE (your access code from CCAvenue)
#    - CCAVENUE_WORKING_KEY (your 32-character working key from CCAvenue)
#    - CCAVENUE_URL (production: https://secure.ccavenue.com/transaction/transaction.do?command=initiateTransaction)
#    - CCAVENUE_REDIRECT_URL (MUST be: https://sevjezttvhkgxybgedto.supabase.co/functions/v1/ccavenue-response)
#    - CCAVENUE_CANCEL_URL (your frontend: https://startupbase.co.in/payment/failure)
#    - FRONTEND_URL (your production domain: https://startupbase.co.in)
#    - SUPABASE_URL (your Supabase URL: https://sevjezttvhkgxybgedto.supabase.co)
#    - SUPABASE_SERVICE_ROLE_KEY (from Supabase Dashboard -> Project Settings -> API)
# 3. Redeploy your Edge Functions after setting the variables
# 4. Update CCAvenue merchant panel to use the correct redirect URL
